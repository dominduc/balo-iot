<!--Khai bÃ¡o-->
<!DOCTYPE html>
<html lang="vi">
<!--thÃ´ng tin cáº¥u hÃ¬nh-->
<head>
  <!-- Leaflet CSS -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>
<!-- Leaflet JS -->
<script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
></script>

  <meta charset="UTF-8">    <!-- MÃ£ hÃ³a kÃ½ tá»± UTF-8 Ä‘á»ƒ há»— trá»£ tiáº¿ng Viá»‡t -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Balo ThÃ´ng Minh</title>  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">ğŸ’ Balo ThÃ´ng Minh IoT</a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="#" onclick="showPage('home')">Trang chá»§</a></li>
          <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('settings')">CÃ i Ä‘áº·t</a></li>
        </ul>
      </div>
    </div>
  </nav>

    <!-- Trang chá»§ -->
  <div class="container py-4 page-section active" id="home">
<div class="d-flex justify-content-between align-items-center mb-4">
  <h3 class="fw-bold text-primary mb-0">ğŸ  Trang chá»§</h3>
  <div id="home-clock" class="mini-clock"></div>
</div>



    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
 
      <!-- Trá»£ lÃ½ áº£o -->
      <div class="col">
        <div class="card p-4">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="section-title m-0">ğŸ§  Trá»£ lÃ½ áº£o</h5>
          <span id="reminder-badge" class="reminder-bubble d-none">1</span>
          </div>
          <input type="text" class="form-control mb-5 mt-4" placeholder="Báº¡n muá»‘n tÃ´i lÃ m gÃ¬?" disabled>
          <button class="btn btn-primary mt-5" onclick="openAssistant()">ğŸ“¤ Gá»­i lá»‡nh</button>
        </div>
      </div>
      
      <!-- Cáº£m biáº¿n gia tá»‘c + GPS -->
      <div class="col">
        <div class="card p-3">
          <h5 class="section-title">ğŸŒ Cáº£m biáº¿n gia tá»‘c + GPS</h5>
            <p>Kinh Ä‘á»™: <strong id="longitude">--</strong></p>
            <p>VÄ© Ä‘á»™: <strong id="latitude">--</strong></p>  
          <p>Tráº¡ng thÃ¡i: <strong>Äang Ä‘á»©ng yÃªn</strong></p>
          <p>Äá»™ rung: <strong>0.02g</strong></p>
          <button class="btn btn-primary mt-3" onclick="showPage('accelerometer')">Biá»ƒu Ä‘á»“</button>
        </div>
      </div>

      <!-- TÃ­nh toÃ¡n cÃ¢n náº·ng -->
      <div class="col">
        <div class="card p-4">
          <h5 class="section-title">ğŸ‹ï¸ CÃ¢n náº·ng balo</h5>
          <p>Trá»ng lÆ°á»£ng: <strong>7.2kg</strong></p>
          <p class="text-danger">Cáº£nh bÃ¡o: VÆ°á»£t quÃ¡ 15% trá»ng lÆ°á»£ng cÆ¡ thá»ƒ!</p>
          <br>
          
        
          <a href="https://www.youtube.com/watch?v=fw5XpWfMGWA" target="_blank" class="btn btn-primary mt-5">ğŸ“˜ Xem tÆ° tháº¿ Ä‘Ãºng</a>
        </div>
      </div>

      <!-- Dá»± bÃ¡o thá»i tiáº¿t -->
      <div class="col">
        <div class="card p-3">
          <h5 class="section-title">â˜ï¸ Dá»± bÃ¡o thá»i tiáº¿t</h5>
          <p>Vá»‹ trÃ­: <strong id="city">--</strong></p>
          <p>Nhiá»‡t Ä‘á»™: <strong id="temp">--</strong></p>
          <p>Äá»™ áº©m: <strong id="humidity">--</strong></p>
          <p>Cháº¥t lÆ°á»£ng khÃ´ng khÃ­ (AQI): <strong id="aqi">--</strong></p>
          <p>ğŸ’¡ Gá»£i Ã½: <strong id="suggestion">Äang táº£i...</strong></p>
        </div>
      </div>

      <!-- TKB -->
      <div class="col">
        <div class="card p-3">
          <h5 class="section-title">ğŸ“š Thá»i khÃ³a biá»ƒu</h5>
          <p>Lá»‹ch há»c ngÃ y mai: <strong id="today-schedule">Äang táº£i...</strong></p>
          <br>
          <button class="btn btn-primary mt-5" onclick="showPage('schedule')">
            <span>ğŸ“˜</span>
            <span>xem thÃªm...</span>
          </button>
        </div>
      </div>

      <!-- SOS -->
      <div class="col">
        <div class="card p-3">
          <h5 class="section-title">ğŸš¨ SOS</h5>
          <p>Vá»‹ trÃ­: <strong>HÃ  Ná»™i - 105.85 / 21.03</strong></p>
          <p>Lá»i nháº¯n: <strong>Kháº©n cáº¥p! Gá»­i xe cá»©u há»a.</strong></p>
          <p>Thá»i gian: <strong>12:35 - 23/06/2025</strong></p>
        </div>
      </div>

    </div>
  </div>
<!-- TRANG PHá»¤ -->
  <!-- Trá»£ lÃ½ áº£o -->
  <div class="container py-4 page-section" id="assistant">
<div class="d-flex justify-content-between align-items-center mb-4">
  <h3 class="fw-bold text-primary mb-0">ğŸ§  Trá»£ lÃ½ áº£o - Giao diá»‡n trÃ² chuyá»‡n</h3>
</div>

    <div id="chat-box" class="chat-box mb-3"></div>

    <div class="input-group">
      <input type="text" id="user-input" class="form-control" placeholder="Nháº­p ná»™i dung..." />
      <button class="btn btn-primary" onclick="sendMessage()">Gá»­i</button>
    </div>
    <div class="d-flex justify-content-between align-items-center mt-3">
  <button class="btn btn-outline-secondary" onclick="showPage('home')">â¬… Quay láº¡i trang chá»§</button>
  <button class="btn btn-outline-primary" onclick="toggleReminderPopup()" id="reminder-summary">
    ğŸ“‹ Lá»i nháº¯c nhá»Ÿ: 0
  </button>
</div>

<!-- Popup danh sÃ¡ch lá»i nháº¯c -->
<div id="reminder-popup" class="reminder-popup shadow d-none">
  <div class="popup-header d-flex justify-content-between align-items-center">
    <strong>ğŸ“‹ Lá»i nháº¯c chÆ°a hoÃ n thÃ nh</strong>
    <button class="btn btn-sm btn-danger" onclick="toggleReminderPopup()">âœ–</button>
  </div>
  <ul id="reminder-items" class="list-group mt-2"></ul>
</div>

  </div>

  <!-- Gia tá»‘c -->
   <div class="container py-4 page-section" id="accelerometer">
     <h3 class="mb-4 fw-bold text-primary">ğŸ“ˆ Biá»ƒu Ä‘á»“ gia tá»‘c + GPS</h3>
     <div id="map" style="height: 400px; width: 100%; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></div>
     <button class="btn btn-outline-secondary mt-2" onclick="showPage('home')">â¬… Quay láº¡i trang chá»§</button>
   </div>

<!-- Thá»i khÃ³a biá»ƒu -->
<div id="schedule" class="container py-4 page-section">
  <div class="mb-2 d-flex align-items-center">
    <label class="me-2" style="width: 100px;">Thá»© hai:</label>
    <input type="text" id="monday" class="form-control me-2" placeholder="Nháº­p mÃ´n há»c...">
    <button class="btn btn-danger" onclick="clearInput(this)">ğŸ—‘</button>
  </div>
  <div class="mb-2 d-flex align-items-center">
    <label class="me-2" style="width: 100px;">Thá»© ba:</label>
    <input type="text" id="tuesday" class="form-control me-2" placeholder="Nháº­p mÃ´n há»c...">
    <button class="btn btn-danger" onclick="clearInput(this)">ğŸ—‘</button>
  </div>
  <div class="mb-2 d-flex align-items-center">
    <label class="me-2" style="width: 100px;">Thá»© tÆ°:</label>
    <input type="text" id="wednesday" class="form-control me-2" placeholder="Nháº­p mÃ´n há»c...">
    <button class="btn btn-danger" onclick="clearInput(this)">ğŸ—‘</button>
  </div>
  <div class="mb-2 d-flex align-items-center">
    <label class="me-2" style="width: 100px;">Thá»© nÄƒm:</label>
    <input type="text" id="thursday" class="form-control me-2" placeholder="Nháº­p mÃ´n há»c...">
    <button class="btn btn-danger" onclick="clearInput(this)">ğŸ—‘</button>
  </div>
  <div class="mb-2 d-flex align-items-center">
    <label class="me-2" style="width: 100px;">Thá»© sÃ¡u:</label>
    <input type="text" id="friday" class="form-control me-2" placeholder="Nháº­p mÃ´n há»c...">
    <button class="btn btn-danger" onclick="clearInput(this)">ğŸ—‘</button>
  </div>
  <div class="mb-2 d-flex align-items-center">
    <label class="me-2" style="width: 100px;">Thá»© báº£y:</label>
    <input type="text" id="saturday" class="form-control me-2" placeholder="Nháº­p mÃ´n há»c...">
    <button class="btn btn-danger" onclick="clearInput(this)">ğŸ—‘</button>
  </div>
  <div class="mb-2 d-flex align-items-center">
    <label class="me-2" style="width: 100px;">Chá»§ nháº­t:</label>
    <input type="text" id="sunday" class="form-control me-2" placeholder="Nháº­p mÃ´n há»c...">
    <button class="btn btn-danger" onclick="clearInput(this)">ğŸ—‘</button>
  </div>
<!-- NÃºt quay láº¡i -->
  <div class="d-flex justify-content-start align-items-center mt-3">
    <button class="btn btn-outline-secondary" onclick="showPage('home')">â¬… Quay láº¡i trang chá»§</button>
  </div>
</div>


  <!-- CÃ i Ä‘áº·t -->
<div class="container py-4 page-section" id="settings">
  <h3 class="mb-4 fw-bold text-primary">âš™ï¸ CÃ i Ä‘áº·t</h3>

  <div class="row g-3 mb-4">
    <div class="col-md-4">
      <button class="w-100 btn btn-outline-primary p-3 text-start shadow-sm rounded d-flex align-items-center gap-2"
              onclick="showKeyword()">
        <span style="font-size: 1.5rem;">ğŸ”‘</span>
        <span class="fw-semibold">Keyword</span>
      </button>
    </div>
    <div class="col-md-4">
      <button class="w-100 btn btn-outline-success p-3 text-start shadow-sm rounded d-flex align-items-center gap-2"
              onclick="showStorage()">
        <span style="font-size: 1.5rem;">ğŸ“¦</span>
        <span class="fw-semibold">LÆ°u trá»¯</span>
      </button>
    </div>
    <div class="col-md-4">
      <button class="w-100 btn btn-outline-dark p-3 text-start shadow-sm rounded d-flex align-items-center gap-2"
              onclick="toggleDarkMode()">
        <span style="font-size: 1.5rem;">ğŸ›ï¸</span>
        <span class="fw-semibold">Chá»n Ná»n</span>
      </button>
    </div>
  </div>

  <!-- Ná»™i dung áº©n/hiá»‡n -->
<div id="keyword-section" style="display: none;">
  <h5 class="fw-bold text-primary mb-3">ğŸ“Œ Quáº£n lÃ½ Tá»« khÃ³a</h5>

  <!-- Ã” nháº­p keyword -->
  <div class="input-group mb-3" style="max-width: 400px;">
    <input type="text" id="keyword-input" class="form-control" placeholder="Nháº­p tá»« khÃ³a má»›i...">
    <button class="btn btn-primary" onclick="addKeyword()">â•</button>
  </div>

  <!-- Danh sÃ¡ch tá»« khÃ³a -->
  <div class="mb-4" style="max-height: 200px; overflow-y: auto; max-width: 400px;">
    <h6 class="fw-semibold">ğŸ“ƒ Danh sÃ¡ch tá»« khÃ³a:</h6>
    <ul id="keyword-list" class="list-group small"></ul>
  </div>

  <!-- Danh sÃ¡ch cÃ¢u chat chá»©a tá»« khÃ³a -->
  <div>
    <h6 class="fw-semibold">ğŸ’¬ CÃ¡c Ä‘oáº¡n chat chá»©a tá»« khÃ³a:</h6>
    <div id="keyword-messages" class="border rounded p-3" style="background: var(--bs-light); color: var(--bs-body-color); max-height: 300px; overflow-y: auto;"></div>
  </div>
</div>


  <div id="storage-section" style="display:none">
    <div id="password-area">
      <label>Nháº­p máº­t kháº©u:</label>
      <input type="password" id="storage-password" class="form-control w-50 d-inline-block" />
      <button class="btn btn-sm btn-primary" onclick="verifyPassword()">XÃ¡c nháº­n</button>
      <p id="password-error" class="text-danger mt-2"></p>
    </div>

    <div id="note-area" style="display:none">
      <textarea id="note-input" class="form-control mb-2" rows="3" placeholder="Nháº­p ghi chÃº..."></textarea>
      <button class="btn btn-success mb-3" onclick="saveNote()">ğŸ’¾ LÆ°u ghi chÃº</button>
      <input type="file" id="image-upload" class="form-control mb-3" accept="image/*" onchange="uploadImage(event)">
      <div id="note-list"></div>
    </div>
  </div>
</div>

  <!-- JavaScript -->
<script src="js/helpers.js"></script>
<script src="js/schedule.js"></script>
<script type="module" src="js/gps.js"></script>
<script src="js/assistant.js"></script>
<script src="js/setting.js"></script>
<script src="js/toggleOnline.js"></script>
<script src="js/weather.js"></script>
<script src="js/reminder.js"></script>
<script src="js/clock.js"></script>
<script src="js/keyword.js"></script>
<script src="js/navigation.js"></script>
<script src="js/map.js"></script>
<script src="js/main.js"></script>


</body>
</html>
